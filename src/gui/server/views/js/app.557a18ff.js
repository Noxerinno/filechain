(function(t){function e(e){for(var s,i,l=e[0],o=e[1],c=e[2],u=0,f=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==n[o]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=o;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"absolute overflow-hidden w-full"},[a("div",{staticClass:"flex flex-row bg-gray-50"},[a("div",{staticClass:"ml-96 w-full h-screen"},[a("router-view")],1),a("div",{staticClass:"fixed"},[a("Sidebar")],1)])])},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col flex-shrink-0 h-screen w-96"},[s("div",{staticClass:"relative flex flex-col flex-grow pb-4 overflow-y-auto z-0 bg-gradient-to-b from-blue-400 to-blue-800"},[s("div",{staticClass:"flex items-center flex-shrink-0 justify-center my-10 mx-16"},[s("img",{staticClass:"w-auto",attrs:{src:a("cf05"),alt:"Logo"}})]),s("div",[s("div",{staticClass:"select-none mx-10 p-1 text-opacity-100 text-center rounded-md",class:t.classes.connection},[s("div",{staticClass:"flex items-center justify-center"},[s("font-awesome-icon",{staticClass:"mr-3",class:t.classes.connection,attrs:{icon:["fas","signal"],size:"xs"}}),s("span",[t._v("IPFS "+t._s(this.id?"connected to":"disconnected from")+" network")])],1)])]),s("nav",{staticClass:"mt-5 flex-1 flex flex-col overflow-y-auto",attrs:{"aria-label":"Sidebar"}},[s("div",{staticClass:"px-5 space-y-1"},[s("router-link",{staticClass:"group flex items-center px-2 py-2 text-lg leading-6 font-medium rounded-md text-opacity-75 text-white hover:text-opacity-100 hover:bg-black hover:bg-opacity-20",attrs:{exact:"",to:"/"}},[s("font-awesome-icon",{staticClass:"mx-5",attrs:{icon:["fas","tachometer-alt"],size:"lg"}}),t._v("Dashboard ")],1),s("router-link",{staticClass:"group flex items-center px-2 py-2 text-lg leading-6 font-medium rounded-md text-opacity-75 text-white hover:text-opacity-100 hover:bg-black hover:bg-opacity-20",attrs:{exact:"",to:"/storage"}},[s("font-awesome-icon",{staticClass:"mx-5",attrs:{icon:["fas","hdd"],size:"lg"}}),t._v(" Storage ")],1),s("router-link",{staticClass:"group flex items-center px-2 py-2 text-lg leading-6 font-medium rounded-md text-opacity-75 text-white hover:text-opacity-100 hover:bg-black hover:bg-opacity-20",attrs:{exact:"",to:"/settings"}},[s("font-awesome-icon",{staticClass:"mx-5",attrs:{icon:["fas","cog"],size:"lg"}}),t._v(" Settings ")],1)],1)])])])},l=[],o=(a("d3b7"),a("96cf"),a("1da1")),c={data:function(){return{id:null,polling:null}},computed:{classes:function(){return{connection:this.id?"text-green-700 bg-green-400":"text-red-700 bg-red-400",signal:this.id?"text-green-700":"text-red-700"}}},methods:{getIpfsId:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/get/ipfs-id");case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,200==a.status?t.id=s.id:t.id=null;case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;this.polling=setInterval((function(){t.getIpfsId()}),3e3)},beforeDestroy:function(){clearInterval(this.polling)}},d=c,u=a("2877"),f=Object(u["a"])(d,i,l,!1,null,null,null),p=f.exports,m={name:"App",title:"FileChain",components:{Sidebar:p}},x=m,h=Object(u["a"])(x,n,r,!1,null,null,null),v=h.exports,g=(a("d940"),a("8c4f")),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{ref:"drag",staticClass:"flex w-full h-full transition-colors overflow-x-hidden",class:t.isOver?"bg-blue-200 shadow-inner":"bg-transparent",on:{drop:function(e){return e.preventDefault(),t.addFile(e)},dragover:function(t){t.preventDefault()}}},[t.mounted?a("div",{staticClass:"flex w-full h-full"},[a("div",{staticClass:"h-full w-full py-7 mx-44 transition duration-500 transform",class:t.selected?"-translate-x-44":"-translate-x-0",on:{click:function(e){return t.select(null)}}},[a("div",{staticClass:"font-bold text-2xl pb-4 border-b-2 border-gray-300 transition-scale duration-500 mx-5",class:t.selected?"w-11/12":"w-full"},[t._v(" Storage ")]),a("div",{staticClass:"grid grid-cols-5 gap-5 w-full"},t._l(t.orderedFiles,(function(e,s){return a("div",{key:s,staticClass:"cursor-pointer m-5 py-5 bg-white transition-color duration-500 rounded-md shadow-lg",class:t.selected==e?"bg-blue-200":"",on:{click:[function(t){t.stopPropagation()},function(a){return t.select(e)}]}},[a("div",{staticClass:"flex flex-col items-center"},[a("font-awesome-icon",{staticClass:"text-gray-500",attrs:{icon:["fas",t.get_file_type_icon(e["mime-type"])],size:"6x"}}),a("div",{staticClass:"px-5 pt-3 w-full text-center"},[a("div",{staticClass:"overflow-ellipsis truncate"},[t._v(" "+t._s(e.filename)+" ")])])],1)])})),0)]),a("div",{staticClass:"absolute h-full bg-white shadow-lg transition duration-500 transform right-0 overflow-hidden",class:t.selected?"-translate-x-0":"translate-x-96",staticStyle:{width:"350px"}},[a("div",{staticClass:"text-center font-bold text-2xl pt-14 pb-4 border-b-2 border-gray-300 mx-8 break-words"},[t._v(t._s(t.selectedData.filename))]),a("div",{staticClass:"flex flex-col mx-12 mt-5"},[a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"font-bold"},[t._v("Created:")]),a("div",{staticClass:"break-word ml-2"},[t._v(t._s(t.selectedData.timestamp))])]),a("div",{staticClass:"flex mb-2"},[a("div",{staticClass:"font-bold"},[t._v("Type:")]),a("div",{staticClass:"break-all ml-2"},[t._v(t._s(t.selectedData.type))])]),t.downloading?a("div",{staticClass:"mt-5 mx-auto"},[t.done?a("font-awesome-icon",{staticClass:"mr-5 text-green-500",attrs:{icon:["fas","check"],size:"2x"}}):a("div",{staticClass:"flex loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-10 w-10"})],1):a("div",{staticClass:"mt-5 bg-gray-50 shadow-lg mx-auto cursor-pointer group flex items-center px-12 py-2 text-lg leading-6 font-medium rounded-md text-opacity-75 text-black hover:text-opacity-100 hover:bg-blue-500 hover:bg-opacity-30",on:{click:function(e){return t.download()}}},[a("font-awesome-icon",{staticClass:"mr-5",attrs:{icon:["fas","download"],size:"lg"}}),t._v(" Download ")],1)])]),a("div",{staticClass:"text-center font-bold absolute w-1/3 h-16 bg-white shadow-lg rounded-lg left-1/2 transition-transform duration-500 transform -translate-x-1/4",class:t.isOver?"translate-y-2":"-translate-y-16"},[a("div",{staticClass:"h-full flex flex-col justify-center"},[t._v("Just drag and drop your files here!")])]),a("div",{staticClass:"text-center font-bold absolute w-1/3 h-16 bg-white shadow-lg rounded-lg left-1/2 transition-transform duration-500 transform -translate-x-1/4",class:t.done?"translate-y-2":"-translate-y-16"},[a("div",{staticClass:"h-full flex justify-center items-center"},[a("font-awesome-icon",{staticClass:"mr-5 text-green-500",attrs:{icon:["fas","check"],size:"2x"}}),t._v(" File downloaded successfully ")],1)]),this.file.length>0?a("div",{staticClass:"fixed h-full w-full bg-gray-900 bg-opacity-50"},[a("div",{staticClass:"min-w-screen min-h-screen bg-gray-900 flex items-center justify-center px-5 py-5 bg-opacity-50 transform -translate-x-44"},[a("div",{staticClass:"flex flex-col bg-gray-100 text-gray-500 rounded-3xl shadow-xl w-full",staticStyle:{"max-height":"300px","max-width":"1000px"}},[a("div",{staticClass:"pl-7 mt-7 text text-xl font-bold pb-2 border-b-2 border-gray-300 mx-5"},[t._v("Uploading "+t._s(t.total)+" file(s)")]),a("div",{staticClass:"flex items-center",staticStyle:{"min-height":"240px"}},[a("div",{staticClass:"flex w-full justify-around"},[a("div",{staticClass:"flex flex-col"},t._l(t.file,(function(e,s){return a("div",{key:s,staticClass:"flex mb-2 items-center"},[a("font-awesome-icon",{staticClass:"mr-5",attrs:{icon:["fas",t.get_file_type_icon(e.type)],size:"lg"}}),a("p",[t._v(t._s(e.name))])],1)})),0),a("div",{staticClass:"my-auto flex loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-24 w-24"})])])])])]):t._e()]):t._e()])},w=[],y=(a("ac1f"),a("1276"),a("bc3a")),C=a.n(y),_=a("2ef0"),k=a.n(_),j={data:function(){return{file:[],isOver:!1,mounted:!1,total:0,files:[],selected:null,selectedData:{filename:"",timestamp:null,type:""},downloading:!1,done:!1}},computed:{classes:function(){return{selected:""}},orderedFiles:function(){return k.a.orderBy(this.files,"timestamp","asc")}},methods:{addFile:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.isOver=!1,e.upload=!0,e.file=t.dataTransfer.files,e.total=e.file.length,!(!e.file.length>0)){a.next=6;break}return a.abrupt("return");case 6:for(s=new FormData,n=0;n<e.file.length;n++)s.append("files",e.file[n]);return a.prev=8,a.next=11,C.a.post("http://localhost:3000/api/upload",s).then((function(){e.file=[],e.getAllFiles(),e.total=0}));case 11:a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](8),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[8,13]])})))()},get_file_type_icon:function(t){var e=t.split("/")[0];return"image"==e?"file-image":"audio"==e?"file-audio":"video"==e?"file-video":"file-alt"},getAllFiles:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/get/files-metadata");case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,t.files=s.files,t.selected=null;case 8:case"end":return e.stop()}}),e)})))()},select:function(t){this.selected=t,this.done=!1,this.downloading=!1},download:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.downloading=!0,e.prev=1,e.next=4,C.a.post("http://localhost:3000/api/download",t.selected).then((function(){t.done=!0}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()}},mounted:function(){var t=this;this.$refs.drag.addEventListener("dragover",(function(){t.isOver=!0})),this.$refs.drag.addEventListener("dragleave",(function(){t.isOver=!1})),this.getAllFiles(),this.selected=null,this.selectedData={filename:"",timestamp:null,type:""},this.mounted=!0},watch:{selected:function(){if(this.selected){var t=new Date(1e3*this.selected.timestamp);this.selectedData.filename=this.selected.filename,this.selectedData.timestamp=t.getFullYear()+"-"+(t.getMonth()+1>9?"":"0")+(t.getMonth()+1)+"-"+(t.getDate()>9?"":"0")+t.getDate()+" "+(t.getHours()>9?"":"0")+t.getHours()+":"+(t.getMinutes()>9?"":"0")+t.getMinutes()+":"+(t.getSeconds()>9?"":"0")+t.getSeconds(),this.selectedData.type=this.selected["mime-type"]}},done:function(){var t=this;this.done&&setTimeout((function(){t.downloading=!1,t.done=!1}),2e3)}}},O=j,I=(a("acc5"),Object(u["a"])(O,b,w,!1,null,null,null)),D=I.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.mounted?a("section",{},[this.data?a("div",{staticClass:"grid m-4 xl:m-10"},[a("div",{staticClass:"bg-white shadow-lg rounded px-8 pt-6 pb-8 mx-auto xl:mx-24 mt-14 flex flex-col"},[a("div",{staticClass:"flex flex-col align-center"},[a("div",{staticClass:"text-grey-darker uppercase text-center font-bold mb-4"},[t._v(" IPFS peer ")]),a("div",{staticClass:"text-sm text-gray-600 mb-2 mx-auto"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"mr-14"},[t._v("Peer ID:")]),a("div",[t._v(t._s(this.data.id))])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"mr-9"},[t._v("IP Address:")]),a("div",[t._v(t._s(this.data.address))])]),a("div",{staticClass:"flex"},[a("div",{staticClass:"mr-3"},[t._v("Agent Version:")]),a("div",[t._v(t._s(this.data.agentVersion))])])])])]),a("div",{staticClass:"bg-white shadow-lg rounded px-8 pt-6 pb-8 mx-auto xl:mx-24 mt-14 flex flex-col"},[a("div",{staticClass:"flex flex-col align-center"},[a("div",{staticClass:"text-grey-darker text-md uppercase text-center font-bold mb-4"},[t._v(" Swarm peers ")]),a("div",{staticClass:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},[0==t.data.peers.length?a("div",{staticClass:"flex justify-center text-sm text-gray-600"},[t._v("There is no other node in this network...")]):a("div",{staticClass:"inline-block min-w-full shadow rounded-lg overflow-hidden"},[a("table",{staticClass:"min-w-full leading-normal"},[t._m(0),a("tbody",t._l(this.data.peers,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},[a("div",{staticClass:"ml-3"},[a("p",{staticClass:"text-gray-900 whitespace-no-wrap"},[t._v(t._s(e.peer))])])]),a("td",{staticClass:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},[a("p",{staticClass:"text-gray-900 whitespace-no-wrap"},[t._v(t._s(e.address))])])])})),0)])])])])])]):a("div",{staticClass:"flex flex-col text-center text-red-700 font-bold text-3xl h-screen justify-center"},[t._v(" IPFS container disconnected from the network ")])]):t._e()},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},[a("th",{staticClass:"px-5 py-3"},[t._v(" Peer ID ")]),a("th",{staticClass:"px-5 py-3"},[t._v(" IP Address ")])])])}],R={data:function(){return{data:null,mounted:!1,polling:null}},methods:{getIpfsData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/get/ipfs-data");case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,200!=a.status||s.errno?t.data=null:t.data=s;case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getIpfsData();case 2:t.polling=setInterval((function(){t.getIpfsData()}),3e3),t.mounted=!0;case 4:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){clearInterval(this.polling)}},F=R,z=Object(u["a"])(F,S,P,!1,null,null,null),E=z.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.mounted?a("section",{},[a("div",{staticClass:"grid m-4 xl:m-10"},[a("div",{staticClass:"bg-white shadow-lg rounded px-8 pt-6 pb-8 mx-auto xl:mx-24 mt-14 flex flex-col text-center"},[a("div",{staticClass:"flex flex-col align-center items-center mx-12"},[a("div",{staticClass:"text-grey-darker uppercase text-center font-bold mb-4"},[t._v(" Settings ")]),a("div",{staticClass:"text-sm text-gray-600 mb-5"},[t._v(" All files downloaded will be stored in the folder selected here. Don't forget to save in order to apply the changes. ")]),a("div",{staticClass:"flex w-full justify-between"},[a("div",{staticClass:"flex flex-col w-4/5 mr-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.path,expression:"path"}],staticClass:"outline-none text-sm text-gray-600 bg-gray-100 py-1 px-7 rounded-md select-none",attrs:{placeholder:"Enter the path to your main directory here"},domProps:{value:t.path},on:{input:function(e){e.target.composing||(t.path=e.target.value)}}}),a("div",{staticClass:"transition-opacity",class:this.pathInfo?"opacity-100":"opacity-0"},["Problem"==this.pathInfo?a("div",{staticClass:"text-red-600 text-sm px-4 mt-1"},[t._v(" Path invalid ")]):a("div",{staticClass:"text-green-600 text-sm px-4 mt-1"},[t._v(" Success! ")])])]),a("button",{staticClass:"h-7 bg-blue-500 rounded-md px-6 text-white font-semibold ml-10 hover:bg-blue-600 focus:outline-none",on:{click:function(e){return t.submitPath()}}},[t._v("Save")])])])])])]):t._e()},A=[],M={data:function(){return{data:null,mounted:!1,polling:null,path:"",pathInfo:null}},methods:{submitPath:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.path){e.next=3;break}return t.pathInfo="Empty",e.abrupt("return");case 3:return e.next=5,C.a.post("http://localhost:3000/api/submitPath",{path:t.path}).then((function(e){e.data.valid?t.pathInfo="Success":t.pathInfo="Problem",setTimeout((function(){t.pathInfo=null}),5e3)}));case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/get/path");case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,t.path=s.path,t.mounted=!0;case 8:case"end":return e.stop()}}),e)})))()}},T=M,J=Object(u["a"])(T,$,A,!1,null,null,null),L=J.exports;s["a"].use(g["a"]);var H=new g["a"]({mode:"history",routes:[{path:"/storage",name:"storage",component:D,meta:{unprotected:!0}},{path:"/",name:"dashboard",component:E,meta:{unprotected:!0}},{path:"/settings",name:"settings",component:L,meta:{unprotected:!0}}]}),V=a("ecee"),B=a("c074"),N=a("ad3d");function U(t){var e=t.$options.title;if(e)return"function"===typeof e?e.call(t):e}var Y={created:function(){var t=U(this);t&&(document.title=t)}};V["c"].add(B["a"]),s["a"].component("font-awesome-icon",N["a"]),s["a"].mixin(Y),s["a"].config.productionTip=!1,new s["a"]({router:H,render:function(t){return t(v)}}).$mount("#app")},7174:function(t,e,a){},acc5:function(t,e,a){"use strict";a("7174")},cf05:function(t,e,a){t.exports=a.p+"img/logo.612e5ef6.png"},d940:function(t,e,a){}});
//# sourceMappingURL=app.557a18ff.js.map